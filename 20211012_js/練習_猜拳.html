<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <input type="button" value="剪刀" id="scissor" />
    <input type="button" value="石頭" id="stone" />
    <input type="button" value="布" id="paper" />
    <p class="score">
      你贏了 <span id="win">0</span> 次，輸了 <span id="lose">0</span> 次，平手 <span id="draw">0</span> 次
    </p>
    <ul id="his"></ul>

    <script>
      const scissor = document.getElementById('scissor');
      const stone = document.getElementById('stone');
      const paper = document.getElementById('paper');
      const his = document.getElementById('his');
      const win = document.getElementById('win');
      const lose = document.getElementById('lose');
      const draw = document.getElementById('draw');
      const playerDicisions = [scissor, stone, paper];
      const compDicisions = ['剪刀', '石頭', '布'];

      let playerChoose = '';
      let compChoose = '';
      let result = '';
      let winCounter = 0;
      let loseCounter = 0;
      let drawCounter = 0;

      for (const dis of playerDicisions) {
        dis.onclick = () => {
          playerChoose = dis.value;
          compChoose = compDicisions[Math.round(Math.random() * 2)];

          if (playerChoose == compChoose) {
            result = '平手';
            drawCounter++;
          } else if (
            (playerChoose == '剪刀' && compChoose == '布') ||
            (playerChoose == '石頭' && compChoose == '剪刀') ||
            (playerChoose == '布' && compChoose == '石頭')
          ) {
            result = '你贏了';
            winCounter++;
          } else {
            result = '你輸了';
            loseCounter++;
          }

          // alert(result);

          let li = document.createElement('li');
          li.innerHTML = `你選了 ${playerChoose}，電腦選了 ${compChoose}，${result}`;
          his.appendChild(li);
          win.innerText = winCounter;
          lose.innerText = loseCounter;
          draw.innerText = drawCounter;
        };
      }

      for (let i = 0; i < 100; i++) {
        playerDicisions[Math.round(Math.random() * 2)].click();
      }
    </script>
  </body>
</html>
